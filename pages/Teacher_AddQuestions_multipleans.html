<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

        <title>Capstone: Create a new Quiz</title>

        <link href="css/teacherAddQuestion/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="css/teacherAddQuestion/font-awesome.min.css">
        <link rel="stylesheet" href="css/teacherAddQuestion/new.css">
        <link rel="stylesheet" href="css/teacherAddQuestion/topics.css">
            <link rel="stylesheet" href="css/teacherAddQuestion/font-awesome.css">

            <style>

           

            </style>

    </head>
    <body class="bkg">

<?php
        //$topicDetails = $_SESSION['topic'];
        
        //if ($status == 'insufficient_data') {
            //echo "<script>";
            //echo "alert('Please fill up all the entries.')";
            //echo "</script>";
        //}
    ?>


    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top nav-header headfoot">
        <div class="container">

                <a class="navbar-brand nav-linkN" style="text-transform: capitalize" href="teacherHomepage.php">Welcome <?= $_SESSION["firstname"] . " " . $_SESSION["lastname"] ?></a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link nav-linkN" href="course.php"><i class="fa fa-cog" aria-hidden="true"></i> Classes</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link nav-linkN" href="teacherRegistration.php"> <i class="fa fa-check-square-o" aria-hidden="true"></i> Registrations</a>
                            </li>
                            <!-- <li class="nav-item">
                                <a class="nav-link nav-linkN" href="Teacher_Topic.php"> <i class="fa fa-book" aria-hidden="true"></i> Topics </a>
                            </li> -->
                            <li class="nav-item">
                                <a class="nav-link nav-linkN" href="logout.php"> <i class="fa fa-sign-out" aria-hidden="true"></i> Logout </a>
                            </li>
                </ul>
            </div>
        </div>
    </nav>

        <div class="container cont1">
            <div class="row sm-flex-center top-space top-space1">
                     <div class="col-sm-12 pull-right">
                        <div class="panel panel-info" style="text-align: center;">
                        <h1>Type of Questions</h1>
                        <div class="panel-body underlined" style="border-right: 1px solid #eee;">
                            <ol id="listQuestions"></ol>
                        </div>
                      
                    </div>
                </div>
            </div>
            <div class="top-space row col-sm-12 " style="text-align: center;">


                <div class="form-group col-sm-4">
                    <!-- Button -->
                    <div class="">
                        <button type="button" class="btn btn-primary btn-lg btn-2" onclick="window.location.href='Teacher_AddQuestion_truefalseVQ.php?cid=<?= $courseId ?>'">True or False</button>
                    </div>
                </div>

                 <div class="form-group col-sm-4">
                    <!-- Button -->
                    <div class="">
                        <button type="button" class="btn btn-secondary btn-lg btn-2" onclick="window.location.href='Teacher_AddQuestion_singleanswerVQ.php?cid=<?= $courseId ?>'">Single Answer</button>
                    </div>
                </div>

                <div class="form-group col-sm-4">
                    <!-- Button -->
                    <div class="">
                        <button type="button" class="btn btn-secondary btn-lg btn-2" onclick="window.location.href='Teacher_AddQuestion_multipleansVQ.php?cid=<?= $courseId ?>'">Multiple Answer</button>
                    </div>
                </div>
            </div>
        </div>
        <form id="addQuestionMultipleForm" action="addQuestionMultipleHandler.php" onsubmit="return validateForm();" method="post">
            <input type="hidden" id="hdnCourseId" name="courseId" value="<?= $courseId ?>" />
            <input type="hidden" id="hdnSaveType" name="saveType" value="saveAddQuestion" />
            <div class="container cont1">  
                <div class="form-group col-sm-12">
                        <label for="exampleTextarea">Problem:</label>
                        <textarea class="form-control" id="exampleTextarea" name="problem" rows="3"></textarea>
                    </div>

                <div class="form-group col-sm-12">

                 <div class="form-group row">
                    <label for="example-text-input" class="col-form-label">A.)</label>
                    <div class="col-8">
                    <input class="form-control" type="text" name="multiChoice1" id="txtMultiChoice1">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">B.)</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiChoice2" id="txtMultiChoice2">
                     </div>
                </div>
                <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">C.)</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiChoice3" id="txtMultiChoice3">
                     </div>
                </div>
                <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">D.)</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiChoice4" id="txtMultiChoice4">
                     </div>
                </div>
                <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">E.)</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiChoice5" id="txtMultiChoice5">
                     </div>
                </div>
                <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">F.)</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiChoice6" id="txtMultiChoice6">
                     </div>
                </div>

                <h3>Answers</h3>
                <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">Answer 1</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiAnswer1" id="txtMultiAnswer1">
                     </div>
                </div>
                 <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">Answer 2</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiAnswer2" id="">
                     </div>
                </div>
                 <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">Answer 3</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiAnswer3" id="">
                     </div>
                </div>
                 <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">Answer 4</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiAnswer4" id="">
                     </div>
                </div>
                <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">Answer 5</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiAnswer5" id="">
                     </div>
                </div>
                <div class="form-group row">
                    <label for="example-search-input" class="col-form-label">Answer 6</label>
                    <div class="col-8">
                     <input class="form-control" type="search" name="multiAnswer6" id="">
                     </div>
                </div>
                
              
                    <div class="col-sm-12" style="text-align: center;">
                        <!-- Button -->
                        <div class="">
                            <button type="button" class="btn btn-primary btn-lg" onclick="handleFormSubmission('saveAddQuestion')">Add Question</button>
                        </div>
                    </div>

                     <!-- <div class="form-group col-sm-4">
                        
                        <div class="">
                            <button type="button" class="btn btn-primary btn-lg" onclick="viewQuestions()">View Questions</button>
                        </div>
                    </div> -->
                
                </div>
            </div>
        </form>

        <div class="container cont1">
            <div class="col-sm-12 ">
                <div class="col-sm-12" style="text-align: center;">
                <h3>View Questions</h3>
                </div>
                <table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Question</th>
      <th scope="col">Answer</th>
    </tr>
  </thead>

  <tbody>
      <?php
        $displayItemNo = 0;
        if (isset($questionsAndAnswers)) {
            foreach ($questionsAndAnswers as $qa) {
                $displayItemNo++;
                $problem = isset($qa['problem']) ? $qa['problem'] : "n/a";
                $bAnswer = isset($qa['booleanAnswer']) ? " (" . $qa['booleanAnswer'] . ")" : "";
                $sAnswer = "";

                if ( (isset($qa['singleAnswer1']) && !IsNullOrEmptyString($qa['singleAnswer1']))) {
                    $sAnswer = " (" . $qa['singleAnswer1'] . ")";
                }

                $mAnswer = "";

                if ( (isset($qa['multiAnswer1']) && !IsNullOrEmptyString($qa['multiAnswer1'])) || 
                        (isset($qa['multiAnswer2']) && !IsNullOrEmptyString($qa['multiAnswer2'])) || 
                        (isset($qa['multiAnswer3']) && !IsNullOrEmptyString($qa['multiAnswer3'])) || 
                        (isset($qa['multiAnswer4']) && !IsNullOrEmptyString($qa['multiAnswer4'])) || 
                        (isset($qa['multiAnswer5']) && !IsNullOrEmptyString($qa['multiAnswer5'])) || 
                        (isset($qa['multiAnswer6']) && !IsNullOrEmptyString($qa['multiAnswer6'])) ) {
                    $mAnswer .= " (";
                    $mAnswer1 = !IsNullOrEmptyString($qa['multiAnswer1']) ? $qa['multiAnswer1'] . ", " : "";
                    $mAnswer2 = !IsNullOrEmptyString($qa['multiAnswer2']) ? $qa['multiAnswer2'] . ", " : "";
                    $mAnswer3 = !IsNullOrEmptyString($qa['multiAnswer3']) ? $qa['multiAnswer3'] . ", " : "";
                    $mAnswer4 = !IsNullOrEmptyString($qa['multiAnswer4']) ? $qa['multiAnswer4'] . ", " : "";
                    $mAnswer5 = !IsNullOrEmptyString($qa['multiAnswer5']) ? $qa['multiAnswer5'] . ", " : "";
                    $mAnswer6 = !IsNullOrEmptyString($qa['multiAnswer6']) ? $qa['multiAnswer6'] . ", " : "";
                    $mAnswer .= $mAnswer1;
                    $mAnswer .= $mAnswer2;
                    $mAnswer .= $mAnswer3;
                    $mAnswer .= $mAnswer4;
                    $mAnswer .= $mAnswer5;
                    $mAnswer .= $mAnswer6;
                    $mAnswer .= ")";
                }

    ?>

    <tr>
      <th scope="row"><?= $displayItemNo?></th>
      <td><?= $problem ?></td>
      <td><?= $bAnswer ?><?= $sAnswer ?><?= $mAnswer ?></td>
    </tr>
    <?php
                    }
            
}
        //From stackoverflow: https://stackoverflow.com/questions/381265/better-way-to-check-variable-for-null-or-empty-string
        function IsNullOrEmptyString($text){
            return (!isset($text) || trim($text)==='');
        }
        
    ?>
  </tbody>

</table>
<div class="col-md-12" style="text-align: center;" >
<button class="btn-1 btn-lg btn" onclick="window.location.href='Teacher_Topic.php?cid=<?= $courseId ?>'">Back to Topic</button>
</div>
                
            </div>
            
        </div>


<div class="footer" id="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4  col-md-2 col-sm-4 col-xs-6">
                    <h3> Developers </h3>
                    <ul>
                        <li> <a href="#"> Alfonso Louie Alfonso </a> </li>
                        <li> <a href="#"> John Patrick Agduma </a> </li>
                        <li> <a href="#"> Jon Kirk Donio </a> </li>
                        <li> <a href="#"> Niko Jay Mateo </a> </li>
                    </ul>
                </div>
                <div class="col-lg-4  col-md-2 col-sm-4 col-xs-6">
                    <h3> Company </h3>
                    <ul>
                        <li> <a href="#"> About Us </a> </li>
                        <li> <a href="#"> Contact Us </a> </li>
                        <li> <a href="#"> FAQs </a> </li>
                        <li> <a href="#"> Policy </a> </li>
                    </ul>
                </div>
                        <div class="col-lg-4  col-md-3 col-sm-6 col-xs-12 ">
                    <h3> Social media </h3>
              
                    <ul class="social">
                        <li> <a href="#"> <i class=" fa fa-facebook">   </i> </a> </li>
                        <li> <a href="#"> <i class="fa fa-twitter">   </i> </a> </li>
                        <li> <a href="#"> <i class="fa fa-google-plus">   </i> </a> </li>
                        <li> <a href="#"> <i class="fa fa-pinterest">   </i> </a> </li>
                        <li> <a href="#"> <i class="fa fa-youtube">   </i> </a> </li>
                    </ul>
                </div>
 
        
            </div>
            <!--/.row--> 
        </div>
        <!--/.container--> 
    </div>
    <!--/.footer-->
    
    <div class="footer-bottom">
        <div class="container">
            <p class="centers" > Copyright © Culturama 2018. All right reserved. </p>

        </div>
    </div>
        <!-- End: Modal For Add Question -->

    <!-- Bootstrap core JavaScript -->
    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootbox.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <script>

    <?php
            if ($status == 'added') {
                echo "alert('Question Successfully Added');";
            }
        ?>

        function handleFormSubmission(saveType) {
            $('#hdnSaveType').val(saveType);
            $('#addQuestionMultipleForm').submit();
        }
        
        function viewQuestions() {
            window.location = "Teacher_viewQuestions.php";
        }

        function validateForm() {
            var exampleTextarea = $("textarea#exampleTextarea").val();
            var multiChoice1 = $("#txtMultiChoice1").val();
            var multiChoice2 = $("#txtMultiChoice2").val();
            var multiChoice3 = $("#txtMultiChoice3").val();
            var multiAnswer1 = $("#txtMultiAnswer1").val();
            

            if(!exampleTextarea || 
                !multiChoice1 ||
                !multiChoice2 ||
                !multiChoice3 ||
                !multiAnswer1){
                bootbox.alert("Please fill all required fields");
                return false;
            }

            return true;
        }
    </script>


</body></html>